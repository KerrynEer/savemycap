<!-- Not using-->
<template name = "mod1">
<h2> Continual Assessment (CA) </h2>
{{#each mod1}}
<h3> Module: <ins> {{moduleCode}} </ins> </h3>
<h4> Target Grade: {{targetGrade}} </h4>
<br>

<form method="post" action="#" id= "formvalue" onkeyup= drawChart()>
  <table id= "CATable">
  <tr>
    <th>CA Component</th>
    <th>Weightage</th>
    <th>Marks Obtained</th>
	<th>Total Marks</th>
  </tr>
  <tr>
    <td><input type="text" name="CA1" id="ca1"></td>
	<td><input type="number" name="weightage1" min="0" max="1" step="0.01" id="weightage1"></td>
	<td><input type="number" name="marks1" min="0"></td>
	<td><input type="number" name="total1" min="0"></td>
  </tr>
   <tr>
    <td><input type="text" name="CA2" id="ca2"></td>
	<td><input type="number" name="weightage2" min="0" max="1" step="0.01" id="weightage2"></td>
	<td><input type="number" name="marks2" min="0"></td>
	<td><input type="number" name="total2" min="0"></td>
  </tr>
   <tr>
    <td><input type="text" name="CA3" id="ca3"></td>
	<td><input type="number" name="weightage3" min="0" max="1" step="0.01" id="weightage3"></td>
	<td><input type="number" name="marks3" min="0"></td>
	<td><input type="number" name="total3" min="0"></td>
  </tr>
     <tr>
    <td><input type="text" name="CA4" id="ca4"></td>
	<td><input type="number" name="weightage4" min="0" max="1" step="0.01" id="weightage4"></td>
	<td><input type="number" name="marks4" min="0"></td>
	<td><input type="number" name="total4" min="0"></td>
  </tr>
</table> <br>

  <input type="submit" name="submit" value="Submit" onclick="drawChart()">
<button type="button" onclick="insertNewComponent()">Add CA Component</button>
 </form>
 
 <!--
<div id="piechart" align='center'></div>

 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript">
	
	var ca1, weightage1;
	var ca2, weightage2;
	var ca3, weightage3;
	var ca4, weightage4;
	
	var index = 5; 
	var newComponentInserted = false;
	
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);
	
	// Draw the chart and set the chart values
	function drawChart() {
		
		ca1= String(document.getElementById("ca1").value);
		weightage1= Number(document.getElementById("weightage1").value);
	
		ca2= String(document.getElementById("ca2").value);
		weightage2= Number(document.getElementById("weightage2").value);
		
		ca3= String(document.getElementById("ca3").value);
		weightage3= Number(document.getElementById("weightage3").value);
		
		ca4= String(document.getElementById("ca4").value);
		weightage4= Number(document.getElementById("weightage4").value);
		
		//Create datatable
		var data = new google.visualization.DataTable();
		
		data.addColumn('string', 'CA Component');
		data.addColumn('number', 'Weightage');
		
		data.addRows(4);
		data.setCell(0, 0, ca1);
		data.setCell(0, 1, weightage1);
		data.setCell(1, 0, ca2);
		data.setCell(1, 1, weightage2);
		data.setCell(2, 0, ca3);
		data.setCell(2, 1, weightage3);
		data.setCell(3, 0, ca4);
		data.setCell(3, 1, weightage4);
		
		if(newComponentInserted == true) { //for the new row added in but i dunno why not working :(
			index; //remove dashes here
			data.addRow();
			data.setCell(index, 0, "ca"+index);
			data.setCell(index, 1, "weightage"+index);
			index++;
		}
		
		// Optional; add a title and set the width and height of the char
		var options = {'title': 'CA Weightage', 'width':550, 'height':400};
		
		// Display the chart inside the <div> element with id="piechart"
		var chart = new google.visualization.PieChart(document.getElementById('piechart'));
		chart.draw(data, options);
	}

function insertNewComponent() {
	
	alert('New CA component inserted');
	
	var table = document.getElementById("CATable");
    var row = table.insertRow(-1);
	
	var cell1=row.insertCell(0);
                var t1=document.createElement("input");
                    t1.id = "CA"+index;
					t1.setAttribute("type", "text");
                    cell1.appendChild(t1);
					
                var cell2=row.insertCell(1);
                var t2=document.createElement("input");
                    t2.id = "weightage"+index;
					t2.setAttribute("type", "number");
					t2.setAttribute("min", "0");
					t2.setAttribute("max", "1");
					t2.setAttribute("step", "0.01");
                    cell2.appendChild(t2);
					
                var cell3=row.insertCell(2);
                var t3=document.createElement("input");
                    t3.id = "marks"+index;
					t3.setAttribute("type", "number");
                    cell3.appendChild(t3);
					
                var cell4=row.insertCell(3);
                var t4=document.createElement("input");
                    t4.id = "total"+index;
					t4.setAttribute("type", "number");
                    cell4.appendChild(t4);
  
  index++;
  newComponentInserted= true;
  drawChart();//I dont know why not working :( this is supposed to allow the inputs of the new inserted cell to be drawn into pie chart also. 

}
</script>

<h4> Current score accumulated: <input type="text"> </h4>

<script>
//Calculate current score
</script>
-->
{{else}}
   

{{/each}}

</template>